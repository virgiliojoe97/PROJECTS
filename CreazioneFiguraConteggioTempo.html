<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<style>
    body{
        font-family: sans-serif;
    }
    #shape{
        width: 200px;
        height: 200px;
        background-color: red;
        display: none;
        position: relative;
        top:30px;
        left: 30px;
        }
    .bold{
        font-weight: 900;
    }

</style>
<script>

const shape = document.getElementById('shape');

let startTime = Date.now();

const minWidth = 20;

const maxWidth = 300;

const span = document.getElementById('timeTaken');

let intId = null;

function randColor(){
    const numbers = '0123456789ABCDEF'.split('');
    let result = '#';
    for(let i = 0; i<6; i++){
        result += numbers[Math.floor (Math.random()*16)];
    }
    return result;
}
randColor()

function elapsedTime(t1, t2){
    t2 = t2 || Date.now();
    const t = (t2-t1)/1000;
    return t.tofixed(2).toLocaleString();
}
shape.addEventListener('click' , shapeClicked);
makeShapeAppear2();

function makeShapeAppear1(){
    if(intId){
        clearInterval(intId);
    }
    intId = setInterval(()=>{
        shape.style.display = 'block';
 }, Math.random()*2000);
}
function makeShapeAppear2(){
    if(intId){
        clearTimeout(intId);
    }
    intId = setTimeout(()=>{
        let w = Math.random()*maxWidth;
        if(w <minWidth){
            w = 10
        }
        if(Math.random() > .5){
            shape.style.borderRadius = "50%";
        } else {
            shape.style.borderRadius = 0;
        }
        shape.style.display= 'block';
        shape.style.top = Math.random()*400 + 'px';
        shape.style.left = Math.random()*400 + 'px';
        shape.style.height = w + 'px';
        shape.style.width = w + 'px';
        shape.style.backgroundColor = randColor();

    }, Math.random()*2000);
}
function shapeClicked(){
    shape.style.display= 'none';

    span.innerHTML = elapsedTime(startTime);
    startTime = Date.now();
    
    makeShapeappear2();
}

</script>
</head>
<body>

    <H1>Test your reactions!</H1>

    <p>Click on the shapes as quickly as you can</p>

<p class="bold">
    Your time: <span id="timeTaken"></span> 0
</p>

<div id="shape">

</div>

</body>
</html>